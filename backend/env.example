# Stack8s Backend Configuration
# Copy this file to .env.local and fill in your values

# ============================================================================
# Database Configuration
# ============================================================================
# Get this from: Supabase Dashboard > Project Settings > Database > Connection String (Direct)
# Format: postgresql://postgres.[PROJECT_REF]:[PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres
SUPABASE_DB_URL=postgresql://postgres:YOUR_PASSWORD@YOUR_HOST:YOUR_PORT/postgres

# ============================================================================
# Supabase Auth Configuration (REQUIRED for multi-user chat persistence)
# ============================================================================
# Get JWT Secret from: Supabase Dashboard > Project Settings > API > JWT Secret
# This is used to verify JWT tokens from Google login via Supabase Auth
SUPABASE_JWT_SECRET=your-jwt-secret-here

# Get Project URL from: Supabase Dashboard > Project Settings > API > Project URL
# Format: https://[PROJECT_REF].supabase.co
SUPABASE_PROJECT_URL=https://qzamfduqlcdwktobwarl.supabase.co

# Optional (recommended fallback): publishable/anon key used to validate tokens against Supabase Auth server
# If Supabase moved/removed the visible JWT secret in your dashboard, set this and the project URL and you're good.
# Get from: Supabase Dashboard > Project Settings > API > Project API keys (anon or publishable)
SUPABASE_ANON_KEY=your-anon-or-publishable-key-here

# ============================================================================
# OpenAI Configuration
# ============================================================================
# Get this from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-...

# Model Selection
# Options: gpt-4o, gpt-4o-mini, gpt-4-turbo
OPENAI_CHAT_MODEL=gpt-4o-mini

# Embedding Model (for RAG over HuggingFace models)
OPENAI_EMBED_MODEL=text-embedding-3-small

# ============================================================================
# HuggingFace RAG Configuration
# ============================================================================
HF_EMBEDDING_MODEL_NAME=text-embedding-3-small
HF_CHUNKER_VERSION=hf_chunker_v1

# ============================================================================
# API Configuration
# ============================================================================
API_PORT=8000
API_HOST=0.0.0.0
ENVIRONMENT=development

# ============================================================================
# Retrieval Configuration (Advanced)
# ============================================================================
# How many results to return from each tool
COMPUTE_TOP_K=10
K8S_TOP_K=15
HF_TOP_K=5
HF_CHUNK_TOP_K=20

